DISCONNECTED_0 -({SABM} / {PRED_EXT})-> 0_SABM
0_SABM -({PRED_EXT_TRUE} / {msg("DM", vr, vs)})-> DISCONNECTED_0
0_SABM -({PRED_EXT_FALSE} / va:=0; vr:=0; vs:=0; {msg("UA", vr, vs); U_CONN_IND} )-> DATA_TRANSFER_3

DISCONNECTED_0 -({SABME} / {PRED_EXT})-> 0_SABME
0_SABME -({PRED_EXT_FALSE} / {msg("DM", vr, vs)})-> DISCONNECTED_0
0_SABME -({PRED_EXT_TRUE} / va:=0; vr:=0; vs:=0; {msg("UA", vr, vs); U_CONN_IND} )-> DATA_TRANSFER_3

DISCONNECTED_0 -({DISC} / {msg("UA", vr, vs)} )-> DISCONNECTED_0

DISCONNECTED_0 -({U_CONN_REQ} / {PRED_EXT})-> 0_2_CR

DISCONNECTED_0 -({U_DC_REQ} / {U_NOTCONNECTED})-> DISCONNECTED_0



AWAITING_CONN_1 -({SABM} / {PRED_EXT})-> 1_SABM
1_SABM -({PRED_EXT_TRUE} / {msg("DM", vr, vs)})-> AWAITING_CONN_1
1_SABM -({PRED_EXT_FALSE} / {msg("UA", vr, vs)})-> AWAITING_CONN_1

AWAITING_CONN_1 -({SABME} / {PRED_EXT})-> 1_SABME
1_SABME -({PRED_EXT_TRUE} / {msg("UA", vr, vs)} )-> AWAITING_CONN_1
1_SABME -({PRED_EXT_FALSE} / {msg("DM", vr, vs)} )-> AWAITING_CONN_1

AWAITING_CONN_1 -({DISC} / {msg("DM", vr, vs)} )-> AWAITING_CONN_1

AWAITING_CONN_1 -({UA} / {PRED_PF})-> 1_UA
1_UA -({PRED_PF_TRUE} / vs:=0; vr:=0; va:=0 {U_CONN_CONF} )-> DATA_TRANSFER_3
1_UA -({PRED_PF_FALSE} / )-> AWAITING_CONN_1

AWAITING_CONN_1 -({DM} / {PRED_PF})-> 1_DM
1_DM -({PRED_PF_TRUE} / vs:=0; vr:=0; va:=0 {U_DISC_IND} )-> DISCONNECTED_0
1_DM -({PRED_PF_FALSE} / )-> AWAITING_CONN_1

AWAITING_CONN_1 -({U_CONN_REQ} / {U_OK})-> AWAITING_CONN_1

AWAITING_CONN_1 -({U_DC_REQ} / {msg("DISC", vr, vs); U_NOTCONNECTED})-> DISCONNECTED_0




AWAITING_DISC_2 -({SABM} / {msg("DM", vr, vs)} )-> AWAITING_DISC_2
AWAITING_DISC_2 -({SABME} / {msg("DM", vr, vs)} )-> AWAITING_DISC_2

AWAITING_DISC_2 -({DISC} / {msg("UA", vr, vs)} )-> AWAITING_DISC_2

AWAITING_DISC_2 -({UA} / {PRED_PF} )-> 2_UA
2_UA -({PRED_PF_TRUE} / {U_DISC_CONF} )-> DISCONNECTED_0
2_UA -({PRED_PF_FALSE} / )-> AWAITING_DISC_2

AWAITING_DISC_2 -({DM} / {PRED_PF} )-> 2_DM
2_DM -({PRED_PF_TRUE} / {U_DISC_CONF} )-> DISCONNECTED_0
2_DM -({PRED_PF_FALSE} / )-> AWAITING_DISC_2

AWAITING_DISC_2 -({I} / {PRED_PF})-> 2_2
AWAITING_DISC_2 -({REJ} / {PRED_PF} )-> 2_2
AWAITING_DISC_2 -({RNR} / {PRED_PF} )-> 2_2
AWAITING_DISC_2 -({RR} / {PRED_PF} )-> 2_2
2_2 -({PRED_PF_TRUE} / {msg("DM", vr, vs)} )-> AWAITING_DISC_2
2_2 -({PRED_PF_FALSE} /)-> AWAITING_DISC_2

AWAITING_DISC_2 -({U_CONN_REQ} / {PRED_EXT})-> 0_2_CR
0_2_CR -({PRED_EXT_TRUE} / {msg("SABME", vr, vs); U_OK})-> AWAITING_CONN_1
0_2_CR -({PRED_EXT_FALSE} / {msg("SABM", vr, vs); U_OK})-> AWAITING_CONN_1

AWAITING_DISC_2 -({U_DC_REQ} / {U_OK})-> AWAITING_DISC_2




DATA_TRANSFER_3 -({SABM} / {PRED_EXT})-> 3_SABM
3_SABM -({PRED_EXT_TRUE} / {msg("SM", vr, vs)})-> DATA_TRANSFER_3
3_SABM -({PRED_EXT_FALSE} / vs:=0; vr:=0; va:=0 {msg("UA", vr, vs)})-> DATA_TRANSFER_3

DATA_TRANSFER_3 -({SABME} / {PRED_EXT})-> 3_SABME
3_SABME -({PRED_EXT_TRUE} / vs:=0; vr:=0; va:=0 {msg("UA", vr, vs)})-> DATA_TRANSFER_3
3_SABME -({PRED_EXT_FALSE} / {msg("DM", vr, vs)})-> DATA_TRANSFER_3

DATA_TRANSFER_3 -({DISC} / {msg("UA", vr, vs), U_DISC_IND})-> DISCONNECTED_0

DATA_TRANSFER_3 -({DM} / {U_DISC_IND} )-> DISCONNECTED_0

DATA_TRANSFER_3 -({RNR} / {PRED_NR})-> 3_RNR_RR_REJ
DATA_TRANSFER_3 -({RR} / {PRED_NR})-> 3_RNR_RR_REJ
DATA_TRANSFER_3 -({REJ} / {PRED_NR})-> 3_RNR_RR_REJ
3_RNR_RR_REJ -({PRED_NR_OK} / va:=frame.nr)-> DATA_TRANSFER_3
3_RNR_RR_REJ -({PRED_NR_NOK} /)-> FRAME_REJECT_4

DATA_TRANSFER_3 -({I} / {PRED_NR})-> 3_I
3_I -({PRED_NR_OK} / {PRED_NS})-> 3_I_NS
3_I_NS -({PRED_NS_OK} / vr := vr+1 {U_DATA_IND} )-> DATA_TRANSFER_3
3_I_NS -({PRED_NS_NOK} / {msg("REJ", vr, vs)} )-> DATA_TRANSFER_3
3_I -({PRED_NR_NOK} / )-> FRAME_REJECT_4

DATA_TRANSFER_3 -({FRMR} / )-> AWAITING_CONN_1

DATA_TRANSFER_3 -({ILLEGAL} / )-> FRAME_REJECT_4

DATA_TRANSFER_3 -({U_CONN_REQ} / {U_CONNECTED})-> DATA_TRANSFER_3

DATA_TRANSFER_3 -({U_DC_REQ} / {U_OK})-> AWAITING_DISC_2

DATA_TRANSFER_3 -({U_DATA_REQ} / )-> DATA_TRANSFER_3




FRAME_REJECT_4 -({SABM} / {PRED_EXT})-> 4_SABM
4_SABM -({PRED_EXT_TRUE} / {msg("DM", vr, vs)} )-> FRAME_REJECT_4
4_SABM -({PRED_EXT_FALSE} / vs:=0; vr:=0; va:=0 {msg("UA", vr, vs); U_CONN_IND} )-> DATA_TRANSFER_3

FRAME_REJECT_4 -({SABME} / {PRED_EXT})-> 4_SABME
4_SABME -({PRED_EXT_FALSE} / {msg("DM", vr, vs)} )-> FRAME_REJECT_4
4_SABME -({PRED_EXT_TRUE} / vs:=0; vr:=0; va:=0 {msg("UA", vr, vs); U_CONN_IND} )-> DATA_TRANSFER_3

FRAME_REJECT_4 -({U_CONN_REQ} / {U_CONNECTED})-> FRAME_REJECT_4

FRAME_REJECT_4 -({U_DC_REQ} / {U_OK})-> AWAITING_DISC_2

FRAME_REJECT_4 -({U_DATA_REQ} / )-> FRAME_REJECT_4




0_SABM{453,161}
4_SABME{941,447}
3_I{998,523}
FRAME_REJECT_4{{928,41}}
1_SABM{58,638}
3_RNR_RR_REJ{721,181}
DISCONNECTED_0{{286,252}}
AWAITING_CONN_1{{327,633}}
0_2_CR{107,407}
1_SABME{630,641}
0_SABME{423,436}
3_SABME{541,161}
DATA_TRANSFER_3{{713,402}}
3_SABM{720,638}
1_UA{574,552}
2_UA{399,94}
2_DM{246,167}
4_SABM{617,96}
AWAITING_DISC_2{{161,73}}
3_I_NS{879,639}
1_DM{199,405}
2_2{34,374}
